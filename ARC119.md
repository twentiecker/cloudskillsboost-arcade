## Create a Secure Data Lake on Cloud Storage: Challenge Lab

---

## Task 1

#### Create a lake in Dataplex and add a zone to your lake

#### 1. Sign into the project as User 2.

#### 2. Create a lake in Dataplex using the below information:

**Display Name**: `Customer-Lake`

**ID**: `Leave the default value`

**Region**: `Region from the Lab Details panel which is located at the left side of the lab instructions`

#### 3. Add a zone to your lake:Customer-Lake. Use the information below:

**Display Name**: `Public-Zone`

**ID**: `Leave the default value`

**Type**: `Raw zone`

**Data locations**: `Regional`

**Discovery settings**: `Enable metadata discovery`

#### 4. For the Lables set key_1 as: `domain_type` and value_1 as: `source_data`

---

## Task 2

#### Attach an existing Cloud Storage bucket to the zone

#### 1. Remain in the project as User 2

#### 2. Attach the bucket that is already created in the lab named as:[PROJECT-ID]-customer-bucket as an asset to the zone.

#### 3. Use the information below:

**Type**: `Storage bucket`

**Display Name**: `Customer Raw Data`

**ID**: `Leave the default value`

**Bucket**: `Choose the bucket created in lab named as:[PROJECT-ID]-customer-bucket`

**Advanced Settings**: Override the existing Discovery Settings to:

1. Enable Metadata Discovery (ignore if already enabled)
2. Enable CSV Parsing Option
3. First row of the CSV file should be treated as header.
4. "," is the character used to split columns in a CSV file.
5. Encoding format should be set to UTF-8.

---

## Task 3

#### Attach an existing BigQuery Dataset to the Lake

#### 1. Remain in the project as User 2:

#### 2. Attach the dataset that is pre-created in lab as an asset to the zone. Use the information below:

**Type**: `BigQuery dataset`

**Display Name**: `Customer Details Dataset`

**ID**: `Leave the default value`

**Dataset**: `Choose the dataset created in lab named as: customer_reference_data`

#### 3. For Discovery settings, select Inherit to inherit the Discovery settings from the zone level

---

## Task 4

#### Create Entities

#### In this step, we will add the Asset under the required Zone i.e map to the data stored in either Cloud Storage or Bigquery.

#### You can map data stored in separate Google Cloud projects also as assets into a single zone. Once this is done and data discovery jobs access the metadata we can see the entity which represents the metadata for structured and semi-structured data (table) and unstructured data (files).

#### Add Entity to the zone that you have created in the above step using the below parametrs

**Display Name**: `My Entity`

**Table Name**: `public_table`

**Table Source**: `Google Cloud Storage`

**Asset**: `Customer Raw Data`

**File Format**: `CSV`

**Schema**: `Leave default values`
