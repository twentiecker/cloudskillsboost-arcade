# Prompt Design in Vertex AI: Challenge Lab

## Task 1. Build a Gemini image analysis tool

#### In this section, you will create a template for analyzing images of Cymbal Direct products using the Gemini 2.0 Flash model in Vertex AI Studio. The goal is to generate descriptive text options inspired by the image, from simple details to more evocative, mood-setting phrases.

#### Tasks:

#### 1. Create a prompt in Vertex AI Studio with the gemini-2.0-flash-001 model to analyze Cymbal Direct's product image (provided in Google Cloud Storage) and generate multiple descriptive text options inspired by the image.

#### The image for this task is located at: qwiklabs-gcp-02-dd1d48f9b4bf-labconfig-bucket/img/cymbal-product-image.png.

```bash
1. Click the "+" icon in the bottom-left corner.
2. Select "Import from Cloud Storage".
3. Choose the location and file as instructed in the lab.
```

#### 2. Experiment with different prompts to generate the following:

> Short, descriptive text inspired by the image.

> Catchy phrases suitable for advertisements.

> A poetic description for a nature-focused campaign.

```bash
1. Copy and paste the prompt (one by one) into the white box labeled “Write prompt here” at the bottom.
2. Click the Submit button.
3. Repeat the same steps for the next prompts.
```

#### 3. Evaluate and Iterate: adjust your prompt and parameters as needed to refine the results.

#### 4. Name your prompt Cymbal Product Analysis.

#### 5. Save Prompt: Once you're happy with the results, click Save, and select the us-east4 region.

---

## Task 2. Build a Gemini tagline generator

#### In this task, you will create a prompt for generating diverse tagline possibilities using the Gemini 2.0 Flash model in Vertex AI Studio. The goal is to develop a prompt that allows for customization of the tagline style, based on product attributes, target audience, and emotional resonance.

#### Tasks:

#### 1. Create a new prompt with the gemini-2.0-flash-001 model to create a customizable tagline generator for Cymbal Direct's new product line.

#### 2. In the System instructions box, enter the provided prompt.

#### 3. Include 2 Examples in your prompt to guide the output style. Add provided example input and output for your first example, then use provided template to add another example.

#### 4. Design a prompt with parameters to customize taglines based on:

> Product attributes (e.g., durable, lightweight)

> Target audience (e.g., young adventurers, families)

> Emotional resonance (e.g., empowered, connected)

#### 5. Add one input and your prompt, then click the submit button to have Gemini generate a tagline option.

```bash
1. Click the "+" icon in the bottom-left corner.
2. Select "Example".
3. Add the provided input and output from the lab into the available input and output boxes.
4. Click "Add Example".
5. Copy the text from the Input box into the input box above "Write your prompt here" field.
6. Paste the provided prompts one by one, and repeat the same step for all three prompts.
```

#### 6. Evaluate and Iterate:

> Experiment with different parameter combinations to see the variety of taglines produced.

> Based on the results, fine-tune the wording of your prompt, add more parameter options, or adjust the style choices to achieve your desired outcome.

#### 7. Name your prompt Cymbal Tagline Generator Template.

#### 8. Save Prompt: Once you're happy with the results, click Save, and select the us-east4 region. Note: if you prompt is already saved with the Autosave functionality, ensure the name of the prompt is correct and you can see it in the Prompt Management page.

---

## Task 3. Experiment with image analysis code

#### In this task, you will explore the Python code for the image analysis prompt you created. You will then modify the prompt to be more specific and test the new prompt in a notebook.

#### 1. In the Google Cloud console, on the Navigation menu (Navigation menu icon), click Vertex AI > Workbench.

#### 2. Find the generative-ai-jupyterlab instance and click on the Open JupyterLab button.

#### 3. Create a new notebook file named image-analysis.ipynb. Set the kernel to Python 3.

### Explore the image analysis code

#### 1. From the Vertex AI Studio page, navigate to the Prompt Management page. Select the Cymbal Product Analysis prompt you created.

#### 2. On the right side of the toolbar, click Build with Code. Use Python as the language.

#### 3. Run the second code cells in the notebook. Verify that the code executes successfully and produces the expected output.

### Modify the image analysis prompt

#### 1. Within the code, there will be a line of text between triple quotes ("""). This is your current image analysis prompt. For example, it might be:

#### 2. Now you will modify the prompt to be more specific. `Change the wording of the prompt in the code cell to make the output less than 10 words.`

```bash
...
  contents = [
    types.Content(
        role="user",
        parts=[
        msg1_image1,
        types.Part.from_text(text="""Change the wording of the prompt in the code cell to make the output less than 10 words.""")
        ]
    ),
    types.Content(
        role="model",
        parts=[
        msg2_text1
        ]
    ),
    types.Content(
        role="user",
        parts=[
        types.Part.from_text(text="""Catchy phrases suitable for advertisements.""")
        ]
    ),
    types.Content(
        role="model",
        parts=[
        msg4_text1
        ]
    ),
    types.Content(
        role="user",
        parts=[
        types.Part.from_text(text="""A poetic description for a nature-focused campaign.""")
        ]
    ),
  ]
...
```

#### 3. Next, modify the prompt code to encourage the model to produce the most creative, unusual, and unexpected descriptions of the image it can think of.

#### 4. Save the changes to your code. Then, rerun the code cell in your notebook to test Gemini with the new prompt.

#### 5. Verify that the new descriptions are shorter and more creative than the previous ones.

---

## Task 4. Experiment with tagline generation code

#### In this task, you will explore the Python code for the tagline prompt you created. You will then modify the prompt to include a specific keyword and test the new prompt in a notebook.

### Explore the tagline generator code

#### 1. Inside of your Workbench instance, create a new notebook file named tagline-generator.ipynb. Set the kernel to Python 3.

#### 2. From the Vertex AI Studio page, navigate to the Prompt Management page. Select the Cymbal Tagline Generator Template prompt you created.

#### 3. On the right side of the toolbar, click Build with Code. Use Python as the language.

#### 4. Run the second code cells in the notebook. Verify that the code executes successfully and produces the expected output.

### Modify the tagline generation prompt

#### 1. Within the code, there will be multiple lines of text between triple quotes ("""). This is your current tagline generation prompt.

#### 2. Now you will modify the prompt to include a specific keyword. Modify the last input to specifically request that the tagline includes the keyword nature.

````bash
...
def generate():
  client = genai.Client(
      vertexai=True,
      project="qwiklabs-gcp-02-dd1d48f9b4bf",
      location="global",
  )

  msg4_text1 = types.Part.from_text(text="""input: Write a tagline for a durable water bottle designed for young adventurers that want to explore their world. Consider styles like inspirational.
output: Hydrate Your Hustle: Fueling Tomorrow's Adventures.

input: specifically request that the tagline includes the keyword nature.
output:""")
...
```bash

#### 3. Save the changes to your code. Then, rerun the code cell in your notebook to test the language model with the new prompt.

#### 4. Verify that the new tagline includes the keyword nature.
````
